GLIB_CFLAGS = @GLIB_CFLAGS@
GLIB_CONFIG = @GLIB_CONFIG@
GLIB_LIBS = @GLIB_LIBS@
GMIME_CONFIG = /usr/local/bin/gmime-config
GMIME_CFLAGS = `$(GMIME_CONFIG) --cflags`
GMIME_LIBS = `$(GMIME_CONFIG) --libs`

HEADER_FILES=config.h ../mdb/util.h formatters.h

CPPFLAGS=@CPPFLAGS@ $(GMIME_CFLAGS) -g -O3
LDFLAGS=@LDFLAGS@ $(GMIME_LIBS)
CC = @CC@ $(CPPFLAGS)

all: weft

weft.o: weft.c

formatters.o: formatters.c

transform.o: transform.c

weft: weft.o formatters.o transform.o
	$(CC) $(CPPFLAGS) -o weft $(LDFLAGS) weft.o formatters.o transform.o

clean:
	$(RM) indexer *.o

TAGS: *.h *.c
	etags *.[ch]
